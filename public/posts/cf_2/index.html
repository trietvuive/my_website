<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Big brain stuff I found on Codeforces - Triet Vo&#39;s new cool site</title><meta name="Description" content="This is My New Hugo Site! NYU Tandon &#39;24, Coach @ Progteam NYU, Software Senior Dev @ RDT NYU"><meta property="og:title" content="Big brain stuff I found on Codeforces" />
<meta property="og:description" content="There are a lot of big brain solutions on Codeforces. Or maybe I&rsquo;m just too small-brained or haven&rsquo;t learned these things yet.
This was the problem I found today.
As usual, I have no idea how to do this shit (within the time limit). I thought about DP, but then I saw the n &lt;= 10^9. Any dp solution will probably requires at least N^2 - you&rsquo;ll have to loop from 1 to 10^9, and then you have to find divisors of all number." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://trietmvo.com/posts/cf_2/" /><meta property="og:image" content="https://trietmvo.com/images/avatar.jpg"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-08T22:27:44-04:00" />
<meta property="article:modified_time" content="2021-07-08T22:27:44-04:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://trietmvo.com/images/avatar.jpg"/>

<meta name="twitter:title" content="Big brain stuff I found on Codeforces"/>
<meta name="twitter:description" content="There are a lot of big brain solutions on Codeforces. Or maybe I&rsquo;m just too small-brained or haven&rsquo;t learned these things yet.
This was the problem I found today.
As usual, I have no idea how to do this shit (within the time limit). I thought about DP, but then I saw the n &lt;= 10^9. Any dp solution will probably requires at least N^2 - you&rsquo;ll have to loop from 1 to 10^9, and then you have to find divisors of all number."/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/images/avatar.jpg"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://trietmvo.com/posts/cf_2/" /><link rel="prev" href="https://trietmvo.com/posts/explanation_1/" /><link rel="next" href="https://trietmvo.com/posts/sport/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Big brain stuff I found on Codeforces",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/trietmvo.com\/posts\/cf_2\/"
        },"image": ["https:\/\/trietmvo.com\/images\/avatar.jpg"],"genre": "posts","keywords": "CF","wordcount":  803 ,
        "url": "https:\/\/trietmvo.com\/posts\/cf_2\/","datePublished": "2021-07-08T22:27:44-04:00","dateModified": "2021-07-08T22:27:44-04:00","publisher": {
            "@type": "Organization",
            "name": "Triet Vo","logo": "https:\/\/trietmvo.com\/images\/avatar.jpg"},"author": {
                "@type": "Person",
                "name": "Triet Vo"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('dark' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'dark' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Triet Vo&#39;s new cool site"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/logo.png"
        data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x"
        data-sizes="auto"
        alt="/images/logo.png"
        title="/images/logo.png" /><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="https://drive.google.com/drive/folders/1iqBNmsS7d3mrl9xkC1-xxitwHTDOFX7r?usp=sharing" rel="noopener noreffer" target="_blank"> Guitar </a><a class="menu-item" href="https://stack.trietmvo.com" rel="noopener noreffer" target="_blank"> Stack! </a><a class="menu-item" href="https://wave.trietmvo.com" rel="noopener noreffer" target="_blank"> Wave! </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Triet Vo&#39;s new cool site"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/logo.png"
        data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x"
        data-sizes="auto"
        alt="/images/logo.png"
        title="/images/logo.png" /><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="https://drive.google.com/drive/folders/1iqBNmsS7d3mrl9xkC1-xxitwHTDOFX7r?usp=sharing" title="" rel="noopener noreffer" target="_blank">Guitar</a><a class="menu-item" href="https://stack.trietmvo.com" title="" rel="noopener noreffer" target="_blank">Stack!</a><a class="menu-item" href="https://wave.trietmvo.com" title="" rel="noopener noreffer" target="_blank">Wave!</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Big brain stuff I found on Codeforces</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Triet Vo</a></span>&nbsp;<span class="post-category">included in <a href="/categories/programming/"><i class="far fa-folder fa-fw"></i>Programming</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-07-08">2021-07-08</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;803 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="true">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents"></nav></div>
            </div><div class="content" id="content"><p>There are a lot of big brain solutions on Codeforces. Or maybe I&rsquo;m just too small-brained or haven&rsquo;t learned these things yet.</p>
<p>This was the problem I found today.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/algorithms/codeforce.PNG"
        data-srcset="/images/algorithms/codeforce.PNG, /images/algorithms/codeforce.PNG 1.5x, /images/algorithms/codeforce.PNG 2x"
        data-sizes="auto"
        alt="/images/algorithms/codeforce.PNG"
        title="/images/algorithms/codeforce.PNG" /></p>
<p>As usual, I have no idea how to do this shit (within the time limit). I thought about DP, but then I saw the n &lt;= 10^9. Any dp solution will probably requires at least N^2 - you&rsquo;ll
have to loop from 1 to 10^9, and then you have to find divisors of all number. There&rsquo;s no way it works within 2 seconds.</p>
<p>So I looked up the solution. One of the solution look like this (courtesy of Nxz)</p>
<pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
    int t, n;
    cin &gt;&gt; t;
    while (t--) {
        cin &gt;&gt; n;
        cout &lt;&lt; ((n % 2 or (n == (n &amp; -n)) &amp;&amp; n % 3 == 2) ? &quot;Bob\n&quot; : &quot;Alice\n&quot;);
    }

}
</code></pre><p>After thinking a bit, I think it works like this:</p>
<p>n == (n&amp;-n) tests if n is a power of 2. You can try it yourself, but basically only binary representation that looks like 1000&hellip; will return true (2&rsquo;s complement of a power of 2 equals itself, basically).</p>
<p>n%3 == 2 tests if n is == 2 to the power of an odd number. 2^6 % 3 == 1, and 2^7 % 3 == 2.</p>
<p>Then, what this code basically saying is Bob wins if N is an odd number, or if N == 2^an odd number.
Let&rsquo;s see why this is the case.</p>
<p>First, you don&rsquo;t want N to be an odd number if it&rsquo;s your turn (because all primes are odd). When N is an odd number, there are 2 cases:</p>
<ol>
<li>
<p>It&rsquo;s a prime. You&rsquo;re dead, because you can&rsquo;t pick any divisor. You lost.</p>
</li>
<li>
<p>It has an odd divisor. Note that no odd number has an even divisor. You pick the odd divisor, and your opponent get an even N (odd - odd == even)</p>
</li>
</ol>
<p>The N that your opponent gets will have an odd divisor. Why? Because you subtract a divisor of N from N, so N can still be divided by that same divisor (if it&rsquo;s not, then the N you get was a prime, so you already lost).
Note that you cannot subtract N from N.</p>
<p>Therefore, this creates a cycle where you keep getting an odd number, forced to turn it into an even number, and your opponent then gives you back an odd number. Therefore, whoever gets the odd number lose, and since
both players play optimally, they will avoid odd number at all cost. Therefore, if n is odd and you&rsquo;re first to act, you already lost.</p>
<p>However, that doesn&rsquo;t mean that if you&rsquo;re first to act and you get an even number that you automatically win. You only win if you gives the opponent an odd number. The exception to this is power of 2 number.</p>
<p>With power of 2, all of your divisors are even. You have 2 choices:</p>
<ol>
<li>
<p>Choose a random even divisor and subtract it from N. The resulting even N will have an odd divisor, since any even number that&rsquo;s not a power of 2 has an odd divisor. Then, your opponent will choose that odd divisor,
subtracting the odd divisor from the even resulting N, and you&rsquo;ll get an odd N. You lost.</p>
</li>
<li>
<p>Choose N/2. This is the only way to give your opponent an even N that&rsquo;s also a power of 2 so that they can&rsquo;t return you an odd number. Remember, all odd lose.</p>
</li>
</ol>
<p>Since both players play optimally, they will choose 2 every time. Therefore, 4 = 2^2, 16 = 2^4, 64 = 2^6 will means the first player win (they will choose n/2 every time, and the second player will encounter 2 first and lose).
8 = 2^3, 32 = 2^5, 128 = 2^7 will means the first player lose, since they will encounter 2 first when both players keep picking N/2.</p>
<p>Feel free to play this out with a friend and check the result (assume you have friends). Game theory problems always intrigue me because there are interesting property, and you can actually play this with friends.
Admittedly, they will just think you&rsquo;re a nerd, but some friends might think it&rsquo;s cool (plus, after all this, you should be able to beat them, since they probably won&rsquo;t play it optimally).</p>
<p>Anyway, about Anime. I jumped around between anime and haven&rsquo;t finished any yet. Not that I&rsquo;m quickly bored, just that some animes are too good to finish. When you finished it, you just feel dead inside, and I&rsquo;d rather not feel that.
I think it&rsquo;s better for my mental health if I kept those good animes around for dark days so that I have something good to watch as a way to de-stress.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2021-07-08</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/posts/cf_2/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://trietmvo.com/posts/cf_2/" data-title="Big brain stuff I found on Codeforces" data-hashtags="CF"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://trietmvo.com/posts/cf_2/" data-hashtag="CF"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on WhatsApp" data-sharer="whatsapp" data-url="https://trietmvo.com/posts/cf_2/" data-title="Big brain stuff I found on Codeforces" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://trietmvo.com/posts/cf_2/" data-title="Big brain stuff I found on Codeforces"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://trietmvo.com/posts/cf_2/" data-title="Big brain stuff I found on Codeforces"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="Share on Myspace" data-sharer="myspace" data-url="https://trietmvo.com/posts/cf_2/" data-title="Big brain stuff I found on Codeforces" data-description=""><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="javascript:void(0);" title="Share on Blogger" data-sharer="blogger" data-url="https://trietmvo.com/posts/cf_2/" data-title="Big brain stuff I found on Codeforces" data-description=""><i class="fab fa-blogger fa-fw"></i></a><a href="javascript:void(0);" title="Share on Evernote" data-sharer="evernote" data-url="https://trietmvo.com/posts/cf_2/" data-title="Big brain stuff I found on Codeforces"><i class="fab fa-evernote fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/cf/">CF</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/explanation_1/" class="prev" rel="prev" title="Dumb it down: Edmond-Karps, Max-Flow-Min-Cut, Support Vector Machine, VPC/Networking"><i class="fas fa-angle-left fa-fw"></i>Dumb it down: Edmond-Karps, Max-Flow-Min-Cut, Support Vector Machine, VPC/Networking</a>
            <a href="/posts/sport/" class="next" rel="next" title="The Obsession with Sports">The Obsession with Sports<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="fb-root" class="comment"></div>
            <div
                class="fb-comments"
                data-href="https://trietmvo.com/posts/cf_2/"
                data-width="100%"
                data-numposts="10"
            ></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://developers.facebook.com/docs/plugins/comments/"></a>Facebook</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.83.1">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Triet Vo</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://mit-license.org/" target="_blank">MIT License</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.fill%2CArray.prototype.find%2CArray.from%2CIntersectionObserver%2CMath.sign%2CObject.assign%2CPromise%2CObject.entries%2CElement.prototype.closest%2CrequestAnimationFrame%2CCustomEvent%2Chtml5shiv%2CObject.values%2Cfetch%2CElement.prototype.after"></script><script type="text/javascript" src="/lib/object-fit-images/ofi.min.js"></script><script type="text/javascript" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v5.0&amp;appId=&amp;autoLogAppEvents=1" defer></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/twemoji/twemoji.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"data":{"id-1":"Triet Vo's new cool site","id-2":"Triet Vo's new cool site"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"},"twemoji":true,"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
